/* ==========================================================================
   FEUILLE DE STYLE BMS VENTOUSE - VERSION MIXTE (V2 + V7.1)
   ---------------------------------------------
   - Fusion du design pro/épuré de la V2
   - Puissance technique (dark mode, accessibilité) de la V7.1
   - Commentaires détaillés pour chaque bloc !
   ========================================================================== */


/* ==========================================================================
   1. VARIABLES GLOBALES & FONDATIONS
   ========================================================================== */

/* 
   Les variables CSS permettent de changer toute l'identité visuelle ici :
   - couleurs
   - typos
   - espacements
   - arrondis
   - ombres
   - transitions
   Modifie-les pour modifier l'apparence générale du site !
*/
:root {
  /* === Palette principale === */
  --color-primary: #FF8C42;           /* Orange principal (boutons, accents) */
  --color-primary-dark: #e67e22;      /* Orange foncé (hover, surbrillance) */
  --color-dark: #2c3e50;              /* Sombre (footer, titres, header) */
  --color-dark-lighten: #34495e;      /* Sombre plus doux (footer clair) */
  --color-light: #ffffff;             /* Blanc pur (fonds, texte clair) */
  --color-light-alt: #f8f9fa;         /* Blanc cassé, pour fonds alternatifs */
  --color-text: #333;                 /* Texte principal */
  --color-text-muted: #666;           /* Texte secondaire, descriptions */
  --color-border: #e0e0e0;            /* Bordures discrètes */

  /* === Typographie === */
  --font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-size-base: 1rem;            /* Taille de police par défaut (16px) */
  --font-size-h1: clamp(2.2rem, 6vw, 3.5rem); /* Responsive H1 */
  --font-size-h3: clamp(1.3rem, 3vw, 1.4rem); /* Responsive H3 */
  --line-height-base: 1.7;           /* Hauteur de ligne générale */
  --line-height-heading: 1.3;        /* Hauteur de ligne titres */

  /* === Espacements & dimensions === */
  --container-width: 1200px;         /* Largeur max du contenu */
  --spacing-section: 80px;           /* Padding vertical entre sections */
  --header-height: 70px;             /* Hauteur du header (fixe) */
  --footer-gap: 2rem;                /* Espace entre colonnes du footer */

  /* === Divers === */
  --border-radius-base: 8px;         /* Arrondi standard (boutons, cartes) */
  --border-radius-large: 12px;       /* Arrondi pour grosses cartes */
  --transition-base: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); /* Transition douce sur tout */
  --box-shadow-base: 0 5px 20px rgba(0, 0, 0, 0.08); /* Ombre légère par défaut */
  --box-shadow-hover: 0 8px 30px rgba(0, 0, 0, 0.11); /* Ombre au survol */
  --focus-outline-width: 3px;        /* Epaisseur du contour focus */
  --btn-hover-scale: 1.02;           /* Zoom léger au hover sur bouton */
}

/* === Thème sombre === 
   Les variables changent automatiquement quand le body a .dark-theme
   ou via la préférence système.
*/
body.dark-theme, 
:root:has(body.dark-theme), 
@media (prefers-color-scheme: dark) {
  --color-light: #1a202c;
  --color-light-alt: #2d3748;
  --color-text: #e2e8f0;
  --color-text-muted: #b0c0d0;
  --color-border: #4a5568;
  --color-dark: #ffffff; /* Titres deviennent blancs */
  --box-shadow-base: 0 5px 20px rgba(0, 0, 0, 0.2);
}


/* ==========================================================================
   2. RESET & ACCESSIBILITÉ
   ========================================================================== */

/* 
  RESET CSS : nécessaire pour avoir un rendu propre et cohérent sur tous les navigateurs.
  - Enlève toutes les marges/paddings par défaut
  - Active box-sizing border-box partout (plus pratique pour les layouts)
*/
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/*
  Active le scroll fluide pour les liens d'ancre sur toute la page.
*/
html {
  scroll-behavior: smooth;
  scroll-padding-top: var(--header-height); /* Décale l'ancre sous le header */
}

/*
  Styles de base pour <body> :
  - Définit la police, la couleur de texte, le fond
  - Lissage des polices pour un rendu plus net sur Mac
*/
body {
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  color: var(--color-text);
  background-color: var(--color-light);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  transition: background-color 0.4s, color 0.4s;
}

/*
  Liens :
  - Orange par défaut
  - Changement de couleur au survol
  - Pas de soulignement
*/
a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color 0.3s;
}
a:hover {
  color: var(--color-primary-dark);
}

/*
  Images :
  - Toujours responsive (jamais plus larges que leur conteneur)
*/
img {
  max-width: 100%;
  height: auto;
}

/*
  Lien "skip to content" pour l'accessibilité clavier
  Permet aux utilisateurs de tabuler directement au contenu principal.
*/
.skip-link {
  position: absolute;
  top: -40px;
  left: 8px;
  background: var(--color-primary);
  color: #fff;
  padding: 8px 14px;
  border-radius: var(--border-radius-base);
  z-index: 10000;
  transition: top 0.3s;
  text-decoration: none;
}
.skip-link:focus {
  top: 8px;
}

/*
  Classe utilitaire pour cacher un élément visuellement
  (mais le garder accessible aux lecteurs d'écran)
*/
.visually-hidden {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

/*
  Focus visible pour l'accessibilité :
  - Contour orange épais sur les éléments au focus clavier
  - Arrondi comme les boutons
*/
:focus-visible {
  outline: var(--focus-outline-width) solid var(--color-primary);
  outline-offset: 2px;
  border-radius: var(--border-radius-base);
}
:focus:not(:focus-visible) {
  outline: none;
}

/*
  Réduction des animations si l'utilisateur l'a demandé dans Windows/Mac
  (Préférence accessibilité)
*/
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ==========================================================================
   3. STRUCTURE PRINCIPALE (Header, Nav, Footer)
   ========================================================================== */

/*
  .container : largeur max + centrage horizontal
  Utilise cette classe pour tous les blocs principaux
*/
.container {
  max-width: var(--container-width);
  margin: 0 auto;
  padding: 0 20px;
}

/*
  .section : espacement vertical standard entre les blocs principaux
*/
.section {
  padding: var(--spacing-section) 0;
}

/*
  Titres de section principaux : gros, en gras, centrés
*/
.section-title {
  font-size: 2.5rem;
  font-weight: 800;
  text-align: center;
  margin-bottom: 1rem;
  color: var(--color-dark);
}
.section-subtitle {
  font-size: 1.1rem;
  text-align: center;
  margin-bottom: 4rem;
  color: var(--color-text-muted);
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
}

/* === HEADER FIXE ===
  - Fond blanc semi-transparent (ou sombre en dark)
  - Flou de fond (backdrop-filter)
  - Bordure basse
  - Z-index élevé pour passer devant le reste
*/
.header {
  background: rgba(255,255,255,0.95);
  backdrop-filter: blur(10px);
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
  border-bottom: 1px solid var(--color-border);
  /* Si tu vois une fine barre orange au-dessus du logo,
     c'est peut-être cette border-bottom qui prend une couleur orangée !
     --color-border doit rester gris clair, jamais orange.
     Si tu veux la supprimer totalement :
     border-bottom: none;
  */
}
body.dark-theme .header {
  background: rgba(26,32,44,0.92);
}

/* 
  Barre de navigation principale : flex pour aligner logo à gauche & liens à droite
*/
.nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: var(--header-height);
  gap: 1rem;
}

.logo {
  display: flex;
  align-items: center;
  font-size: 1.5rem;
  font-weight: 800;
  text-decoration: none;
  color: var(--color-dark);
  background: none; /* Vérifie bien qu'aucun background ou border ne traine ici */
  border: none;
}
.logo img {
  width: 40px; height: 40px; margin-right: 12px;
}
.logo .bms { color: var(--color-primary); }

/*
  Liens du menu principal (desktop) :
  - Horizontaux, espacés, sans puce
  - Arrondi, padding, transition fluide
  - Orange en fond + texte blanc au survol ou actif
*/
.nav-links {
  display: flex;
  gap: 1rem;
  list-style: none;
  align-items: center;
}
.nav-link {
  color: var(--color-dark);
  font-weight: 500;
  padding: 0.5rem 1.1rem;
  border-radius: var(--border-radius-base);
  transition: var(--transition-base);
  position: relative;
}
.nav-link:hover, .nav-link.active {
  background-color: var(--color-primary);
  color: var(--color-light);
}

/* === BOUTON "Contact" dans la nav ===
   Si ton bouton "Contact" sort de l'écran sur desktop, 
   vérifie ici le padding et le width (pas de width fixe).
   Si tu veux un bouton plus visible, tu peux ajouter une classe .btn à ce lien.
   Pour le responsive, voir plus bas.
*/
.nav-link.btn {
  font-weight: 700;
  background: var(--color-primary);
  color: var(--color-light);
  padding: 0.6rem 1.4rem;
  border: none;
  transition: var(--transition-base);
}
.nav-link.btn:hover {
  background: var(--color-primary-dark);
  color: var(--color-light);
  transform: scale(1.04);
}

/* === MENU BURGER ===
   Masqué sur desktop, visible sur mobile
   Les 3 barres sont des <span> animés
*/
.hamburger {
  display: none; /* Affiché en mobile/tablette */
  flex-direction: column;
  cursor: pointer;
  gap: 5px;
  padding: 5px;
  background: none;
  border: none;
}
.hamburger span {
  width: 25px; height: 3px;
  background-color: var(--color-dark);
  transition: 0.3s;
  border-radius: 2px;
}

/*
  FOOTER sombre, grille à 2 ou 3 colonnes, textes clairs, liens bien visibles.
*/
.footer {
  background-color: var(--color-dark);
  color: var(--color-light);
  padding-top: 4rem;
}
.footer-main { padding-bottom: 4rem; }
.footer-content {
  display: grid;
  grid-template-columns: 1.5fr 2fr;
  gap: 4rem;
}
.footer-brand .footer-logo { margin-bottom: 1rem; }
.footer-brand .footer-description { color: #a0aec0; }
.footer-links {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 2rem;
}
.footer-column h4 {
  color: var(--color-primary);
  margin-bottom: 1rem;
  font-weight: 700;
}
.footer-column ul { list-style: none; }
.footer-column li { margin-bottom: 0.5rem; }
.footer-column a { color: #a0aec0; }
.footer-column a:hover { color: var(--color-light); }
.footer-column i { margin-right: 0.5rem; color: var(--color-primary); }

.footer-bottom {
  border-top: 1px solid var(--color-dark-lighten);
  padding: 1.5rem 0;
}
.footer-bottom-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
  color: #a0aec0;
}

/* ==========================================================================
   4. COMPOSANTS PRINCIPAUX (Boutons, Cartes, etc.)
   ========================================================================== */

/*
  Boutons génériques. 
  Utilise .btn-primary pour un bouton orange, .btn-secondary pour un bouton blanc.
  Ajoute la classe .btn à tout <a> ou <button> pour appliquer le style.
*/
.btn {
  display: inline-block;
  padding: 0.8rem 1.8rem;
  border-radius: var(--border-radius-base);
  text-decoration: none;
  font-weight: 700;
  transition: var(--transition-base);
  border: 2px solid transparent;
  cursor: pointer;
  font-size: 1rem;
}
.btn-primary {
  background-color: var(--color-primary);
  color: var(--color-light);
  border-color: var(--color-primary);
}
.btn-primary:hover {
  background-color: var(--color-primary-dark);
  border-color: var(--color-primary-dark);
  transform: translateY(-2px);
}
.btn-secondary {
  background-color: transparent;
  color: var(--color-light);
  border-color: var(--color-light);
}
.btn-secondary:hover {
  background-color: var(--color-light);
  color: var(--color-dark);
}

/*
  Cartes de service ou de contact :
  - Fond blanc, arrondi, ombre portée, padding généreux
  - Effet d'élévation au survol
*/
.service-card, .contact-card {
  background: var(--color-light);
  border-radius: var(--border-radius-large);
  text-align: center;
  padding: 2.5rem 2rem;
  box-shadow: var(--box-shadow-base);
  transition: var(--transition-base);
}
.service-card:hover, .contact-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--box-shadow-hover);
}
.service-icon, .contact-icon {
  font-size: 2.5rem;
  color: var(--color-primary);
  margin-bottom: 1.5rem;
}
.service-card h3, .contact-card h3 {
  font-size: 1.3rem;
  margin-bottom: 1rem;
  font-weight: 700;
}
.service-card p, .contact-card p { color: var(--color-text-muted); }

.badge {
  background: rgba(255, 140, 66, 0.1);
  color: var(--color-primary);
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 600;
  border: 1px solid rgba(255, 140, 66, 0.2);
}
.badge-netflix { background: rgba(229, 9, 20, 0.1); color: #e50914; border-color: rgba(229, 9, 20, 0.2); }
.badge-jo { background: rgba(255, 215, 0, 0.1); color: #b7950b; border-color: rgba(255, 215, 0, 0.2); }

/* ==========================================================================
   5. SECTIONS SPÉCIFIQUES (Hero, FAQ, Réalisations, etc.)
   ========================================================================== */

/* === HERO (bannière principale) ===
   - Texte blanc centré
   - Padding important pour l'effet "hero"
*/
.hero {
  color: var(--color-light);
  text-align: center;
  background: var(--color-dark);
}
.hero-overlay {
  padding: 150px 0 80px;
  margin-top: var(--header-height);
}
.hero h1 {
  font-size: 3rem;
  font-weight: 800;
  margin-bottom: 1.5rem;
  line-height: 1.2;
}
.hero p {
  font-size: 1.2rem;
  margin-bottom: 2.5rem;
  opacity: 0.9;
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
}
.hero-buttons {
  display: flex;
  gap: 1.5rem;
  justify-content: center;
  flex-wrap: wrap;
}

/*
  Grille responsive pour afficher les services (ou réalisations)
*/
.services-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}

/*
  Témoignages clients (carte blanche, texte en italique, auteur en gras)
*/
.testimonial-card {
  background: var(--color-light);
  padding: 2.5rem;
  border-radius: var(--border-radius-large);
  box-shadow: var(--box-shadow-base);
}
.testimonial-card p {
  font-style: italic;
  font-size: 1.1rem;
  margin-bottom: 1.5rem;
}
.testimonial-card footer {
  font-weight: 700;
  color: var(--color-dark);
}
.testimonial-card footer span { color: var(--color-primary); }

/*
  Section Call-To-Action (CTA) : fond dégradé sombre, texte blanc
*/
.cta-section {
  background: linear-gradient(135deg, var(--color-dark) 0%, var(--color-dark-lighten) 100%);
  color: var(--color-light);
  text-align: center;
}

/*
  FAQ (accordéon) : question cliquable, réponse cachée/affichée
*/
.faq-item {
  background: var(--color-light);
  margin-bottom: 1rem;
  border-radius: var(--border-radius-base);
  box-shadow: var(--box-shadow-base);
  overflow: hidden;
}
.faq-question {
  padding: 1.5rem;
  background: transparent;
  border: none;
  width: 100%;
  text-align: left;
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--color-dark);
  cursor: pointer;
  transition: background-color 0.3s;
}
.faq-question:hover { background-color: var(--color-light-alt); }
.faq-answer {
  padding: 0 1.5rem;
  color: var(--color-text-muted);
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s, padding 0.4s;
}
.faq-item.is-open .faq-answer {
  padding-bottom: 1.5rem;
}

/* === MISE EN PAGE POUR LES ÉTUDES DE CAS (réalisations) === */
.case-study {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  align-items: center;
  margin-bottom: var(--spacing-section);
}
.case-study.reverse {
  grid-template-columns: 1fr 1fr; /* Image à droite */
}
.case-study.reverse .case-study-image { grid-column: 2; grid-row: 1; }
.case-study.reverse .case-study-content { grid-column: 1; grid-row: 1; }
.case-study-image img {
  width: 100%;
  height: auto;
  border-radius: var(--border-radius-large);
  box-shadow: var(--box-shadow-base);
}
.client-logo {
  height: 35px;
  margin-bottom: 1.5rem;
}
.case-study-content h3 {
  font-size: 2rem;
  font-weight: 800;
  margin-bottom: 1rem;
}
.case-challenge {
  font-weight: 500;
  margin-bottom: 1.5rem;
  line-height: 1.5;
}
.case-solution {
  list-style: none;
  margin-bottom: 1.5rem;
}
.case-solution li {
  margin-bottom: 0.5rem;
  display: flex;
  align-items: flex-start;
}
.case-solution i {
  color: var(--color-primary);
  margin-right: 0.8rem;
  margin-top: 4px;
}
.testimonial-inline {
  border-left: 3px solid var(--color-primary);
  padding-left: 1.5rem;
  margin-top: 2rem;
}
.testimonial-inline p { font-style: italic; }
.testimonial-inline footer { font-weight: 700; margin-top: 0.5rem; }

.references-logos img {
  height: 45px;
  opacity: 0.7;
  transition: opacity 0.3s;
}
.references-logos img:hover { opacity: 1; }

.legal-section {
  margin-bottom: 2rem;
  padding-bottom: 2rem;
  border-bottom: 1px solid var(--color-border);
}
.legal-section:last-child { border-bottom: none; }
.legal-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-primary);
  margin-bottom: 1rem;
}

/* ==========================================================================
   6. RESPONSIVE DESIGN
   ========================================================================== */

/*
  - Les grilles passent en colonne simple sur tablette/mobile
  - Réduit la taille des titres
  - Affiche le menu burger, masque les liens de nav
  - Ajuste le hero, les paddings, les grilles, etc.
*/
@media (max-width: 768px) {
  .section-title { font-size: 2rem; }
  .header .nav-links { display: none; } /* Pour JS : menu mobile */
  .header .hamburger { display: flex; }

  .hero h1 { font-size: 2.2rem; }
  .hero p { font-size: 1.1rem; }

  .footer-content, .footer-links { grid-template-columns: 1fr; }
  
  .case-study, .case-study.reverse {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  .case-study.reverse .case-study-image,
  .case-study.reverse .case-study-content {
    grid-column: 1;
  }

  /* Pour éviter que le bouton contact disparaisse sur mobile :
     Vérifie ici que .nav-link.btn, .btn ou .contact n'ont pas de width fixe ou de margin trop grande
     Si besoin, tu peux forcer : width: 100%; margin: 0 auto;
  */
  .nav-link.btn {
    width: 100%;
    margin: 0.3rem 0;
    text-align: center;
    display: block;
    padding: 0.8rem 0;
  }
}
